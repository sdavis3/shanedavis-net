<!doctype html>
<html lang="en">
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content='text/html; charset=utf-8' http-equiv='content-type' />

  <title>Valet Key Pattern - shanedavis.net</title>
  <meta content='Valet Key Pattern - shanedavis.net' property='title' />
  <meta content='Valet Key Pattern - shanedavis.net' property='og:title' />


<meta property="og:description" content="I recently bought a new car and it came with a valet key. It&rsquo;s designed to secure the interior storage compartment of a car while still providing access for the car to be driven by someone other than the owner. The valet key is useful when you wish to temporarily allow some access, but do not wish to grant full access. In the application architecture world, there&rsquo;s a design pattern with the same name that aims to increase the security and scale of your application." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://shanedavis.net/posts/2015-12-30-valet-key-pattern/" />


<meta property="article:published_time" content="2015-12-30T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2015-12-30T00:00:00&#43;00:00"/>








<meta name="generator" content="Hugo 0.54.0" />

<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" rel="stylesheet">
<style type="text/css">/*https://coolors.co/afd5aa-f0f2ef-a69f98-3d3d3d-8c6057*/
:root {
  --main-color: rgb(11, 32, 156); 
  --secondary-color: rgb(28, 129, 224);
  --logo-text-color: #fff;
  --body-text-color: #3d3d3d;
  --heading-text-color: #383838;
  --background-color: #fff;
}</style>
<link href='/css/tachyons.min.css' rel="stylesheet">
<link href='/css/styles.css' rel="stylesheet">


<link rel="icon" 
 
  href='/favicon.ico'

type="image/x-icon"/>

<link href='/feed.xml' rel="alternate" type="application/atom+xml" title="shanedavis.net" />

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-75233516-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</head>
<body class="global-font">
  <nav class=" justify-between border-box pa3 pl3-l pr2-l mt1 mt0-ns" id="navbar">
  <div class="flex">
    <a class="f4 fw6 ttu no-underline dim bg-main-color pv1 ph2 br2" id="site-title" href='/' title="Home">shanedavis.net</a>
  </div>
  
</nav>
  
<main class="center mv4 content-width ph3">
  <div class="f3 fw6 heading-color heading-font post-title">Valet Key Pattern</div>
  <p class="silver f6 mt1 mb4 post-meta">
    <time>30 Dec 2015</time> 
     | 
    
    
    tags: [ <a href='/tags/patterns' class="link silver">patterns</a>  ]
    
  </p>
  <div class="lh-copy post-content">

<p>I recently bought a new car and it came with a valet key. It&rsquo;s designed to secure the interior storage compartment of a car while still providing access for the car to be driven by someone other than the owner. The valet key is useful when you wish to temporarily allow some access, but do not wish to grant full access. In the application architecture world, there&rsquo;s a design pattern with the same name that aims to increase the security and scale of your application. If you&rsquo;re an application architect or developer, and you&rsquo;ve never used a Valet Key Pattern, please read on.</p>

<h3 id="the-challenge">The Challenge</h3>

<p>Applications often need to read and write files to and from storage. A more traditional scenario often includes having the application fetch the data from storage (on behalf of the client) and stream it down. Additionally, applications often provide the ability for a client to upload files. This approach consumes valuable resources on the server and creates a potential performance bottleneck as the application acts as a gatekeeper for the storage. The challenge is that applications must be able to securely control access to data in a granular way, but in a way that doesn&rsquo;t increase the load on the serving application.</p>

<h3 id="the-solution">The Solution</h3>

<p>One solution is to restrict access to the data store&rsquo;s public connection and provide the client with a &ldquo;key&rdquo; that the data store itself can validate. This is the theoretical valet key. It provides time-limited direct access to specific resources and allows only predefined operations such as reading and writing to storage. Applications can create and issue valet keys to clients quickly and easily, allowing clients to perform the required operations without requiring the application to directly handle the data transfer. This removes the bottleneck, and the related impact on performance and scalability. After the specified period, the key becomes invalid and revokes access to the resource.</p>

<h3 id="the-summary">The Summary</h3>

<p>Using this pattern can simplify managing access to resources. The important factors are to limit the validity period and the location of the resource, as tightly as possible so the recipient can use it for only the intended purpose.</p>
</div>
</main>
 






<div class="tl fixed list-pages lh-copy" id="contents-list"></div>



<div class="pagination tc tr-l db fixed-l bottom-2-l right-2-l mb3 mb0-l">
  
<a id="scroll-to-top" class="f6 o-0 link br2 ph2 pv1 mb1 bg-main-color pointer" onclick="topFunction()" style="color: #fff; visibility: hidden; display: none; transition: opacity .5s, visibility .5s;" title="back to top">back to top</a>
<br>
  <p class="mb0 mt2">
  <a href="https://shanedavis.net/posts/2015-05-29-speed-to-value-not-speed-to-project-delivery/">prev post</a>
  <a href="https://shanedavis.net/posts/2016-01-20-performance-and-scalability-often-get-confused/">next post</a>
  </p>
</div>

  <footer class="content-width mt0 mt5-l mb4 f6 center ph3 gray tc tl-l">
  <hr class="dn db-l ml0-l gray w3"><br>
  Powered by <a href="https://gohugo.io/" target="_blank" class="link gray dim">Hugo</a>, based on the <a href="https://github.com/lingxz/er" target="_blank" class="link gray dim">Er</a> theme. <br>
  
</footer>
  



<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<style>.is-active-link::before { background-color: var(--secondary-color); }</style>




<script type="text/javascript">
var prevScrollpos = window.pageYOffset;
window.onscroll = function() {
  var currentScrollPos = window.pageYOffset;

  
  if (document.getElementById("tag-cloud") !== null) { 
    if (prevScrollpos > currentScrollPos) { 
      document.getElementById("tag-cloud").style.visibility = "visible";
      document.getElementById("tag-cloud").style.opacity = "1";
    } else {
      document.getElementById("tag-cloud").style.visibility = "hidden";
      document.getElementById("tag-cloud").style.opacity = "0";
    }
  }
  

  
  if (document.body.scrollTop > 1000 || document.documentElement.scrollTop > 1000) {
      document.getElementById("scroll-to-top").style.display = "inline";
      document.getElementById("scroll-to-top").style.visibility = "visible";
      document.getElementById("scroll-to-top").style.opacity = "1";
  } else {
      document.getElementById("scroll-to-top").style.visibility = "hidden";
      document.getElementById("scroll-to-top").style.opacity = "0";
  }
  
  prevScrollpos = currentScrollPos;
}


function topFunction() {
  document.body.scrollTop = 0; 
  document.documentElement.scrollTop = 0; 
}






if (document.getElementById("contents-list") !== null && document.getElementsByClassName("post-content").length !== 0) { 
  tocbot.init({
    
    tocSelector: '#contents-list',
    
    contentSelector: '.post-content',
    
    headingSelector: 'h1, h2, h3',
  });
}


</script>




</body>
</html>